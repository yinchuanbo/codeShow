<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>codeShow</title>
    <link rel="icon" sizes="any" mask href="assets/images/ico.svg" />
    <link rel="stylesheet" href="assets/codemirror5/theme/blackboard.css" />
    <link rel="stylesheet" href="assets/codemirror5/lib/codemirror.css" />
    <link rel="stylesheet" href="assets/codemirror5/addon/hint/show-hint.css" />
    <link rel="stylesheet" href="assets/css/common.css" />
    <link rel="stylesheet" href="assets/lib/wenk.min.css" />
  </head>
  <body>
    <div class="code__wrapper">
      <div class="close__fs"></div>
      <div class="code__wrapper_header">
        <div class="code__wrapper_header_title">3D 磨砂玻璃透视效果</div>
        <div class="tools">
          <div class="home__icon" onclick="window.location.href = '/'"></div>
        </div>
      </div>
      <div class="code__wrapper_top">
        <div class="code__wrapper_top-html">
          <div class="title">HTML</div>
          <textarea id="htmlCode">&lt;div id=&#34;element&#34;&gt;&lt;/div&gt;</textarea>
        </div>
        <div class="code__wrapper_top-css">
          <div class="title">CSS</div>
          <textarea id="cssCode">@property --angle {
  syntax: &#34;&lt;angle&gt;&#34;;
  inherits: false;
  initial-value: -45deg;
}

@property --color {
  syntax: &#34;&lt;color&gt;&#34;;
  inherits: false;
  initial-value: rgba(255, 255, 255, 1);
}

#iframe__wrapper {
  display: flex;
  transform-style: preserve-3d;
  perspective: 500px;
  cursor: pointer;
  background: url(https://picsum.photos/id/242/1920/1080);
  background-size: cover;
}

div {
  margin: auto;
  width: 600px;
  height: 300px;
  transform-style: preserve-3d;
  backdrop-filter: blur(15px);
  background: linear-gradient(
    var(--angle),
    rgba(255, 255, 255, 0.1),
    rgba(0, 0, 0, 0.5)
  );
  mask: linear-gradient(var(--angle), var(--color), #fff, #fff);
  box-shadow: 0 20px 40px 1px rgba(0, 0, 0, 0.12), inset 0 -10px 20px -5px rgba(0, 0, 0, 0.3),
    0 150px 100px -80px rgba(0, 0, 0, 0.4), inset 0 1px 4px hsla(0, 0%, 100%, 0.6),
    inset 0 -1px 1px 1px rgba(0, 0, 0, 0.2);
  transition: all 0.3s, --angle 0.3s;
}</textarea>
        </div>
        <div class="code__wrapper_top-js">
          <div class="title">JAVASCRIPT</div>
          <textarea id="jsCode">const multiple = 25;
const mouseOverContainer = document.getElementsByTagName(&#34;body&#34;)[0];
const element = document.getElementById(&#34;element&#34;);

function transformElement(x, y) {
  const box = element.getBoundingClientRect();
  const calcX = -(y - box.y - box.height / 2) / multiple;
  const calcY = (x - box.x - box.width / 2) / multiple;
  let angle = Math.floor(
    getMouseAngle(y - box.y - box.height / 2, x - box.x - box.width / 2)
  );

  element.style.transform =
    &#34;rotateX(&#34; + calcX + &#34;deg) &#34; + &#34;rotateY(&#34; + calcY + &#34;deg)&#34;;
  element.style.setProperty(&#34;--angle&#34;, `${-angle}deg`);
  element.style.setProperty(&#34;--color&#34;, &#34;rgba(255,255,255,.8)&#34;);
}

function getMouseAngle(x, y) {
  const radians = Math.atan2(y, x);
  let angle = radians * (180 / Math.PI);

  if (angle &lt; 0) {
    angle += 360;
  }

  return angle;
}

mouseOverContainer.addEventListener(&#34;mousemove&#34;, (e) =&gt; {
  window.requestAnimationFrame(function () {
    transformElement(e.clientX, e.clientY);
  });
});

mouseOverContainer.addEventListener(&#34;mouseleave&#34;, (e) =&gt; {
  window.requestAnimationFrame(function () {
    element.style.transform = &#34;rotateX(0) rotateY(0)&#34;;
    element.style.setProperty(&#34;--angle&#34;, `NAN`);
    element.style.setProperty(&#34;--color&#34;, &#34;rgba(255,255,255,1)&#34;);
  });
});</textarea>
        </div>
      </div>
      <div class="code__wrapper_bottom">
        <div class="code__wrapper_top-preview">
          <div class="fs__icon"></div>
          
          <iframe
            id="live-preview"
            src="assets/templates/template-iframe.html"
            width="100%"
            height="100%"
            allow="accelerometer *; camera *; encrypted-media *; display-capture *; geolocation *; gyroscope *; microphone *; midi *; clipboard-read *; clipboard-write *; web-share *; serial *; xr-spatial-tracking *"
            allowfullscreen="true"
            allowpaymentrequest="true"
            allowtransparency="true"
            sandbox="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation"
            class="result-iframe iframe-visual-update"
            name="codeShow"
            loading="lazy"
          ></iframe>
        </div>
      </div>
    </div>
    <script src="assets/lib/jquery-3.7.1.min.js"></script>
    <script src="assets/lib/sass.sync.min.js"></script>
    <script src="assets/codemirror5/lib/codemirror.js"></script>
    <script src="assets/codemirror5/addon/hint/show-hint.js"></script>
    <script src="assets/codemirror5/addon/hint/xml-hint.js"></script>
    <script src="assets/codemirror5/addon/hint/html-hint.js"></script>
    <script src="assets/codemirror5/mode/xml/xml.js"></script>
    <script src="assets/codemirror5/mode/javascript/javascript.js"></script>
    <script src="assets/codemirror5/mode/css/css.js"></script>
    <script src="assets/codemirror5/mode/htmlmixed/htmlmixed.js"></script>
    <script src="assets/codemirror5/addon/hint/css-hint.js"></script>
    <script src="assets/js/common.js"></script>
  </body>
</html>
