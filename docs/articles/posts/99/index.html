<!DOCTYPE html>






























<html
  class="not-ready text-sm lg:text-base"
  style="--bg: "
  lang="en"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>前端代码重复度检测 - 灏天阁</title>

  
  <meta name="theme-color" />
  
  <meta name="description" content="在前端开发中，代码的重复度是一个常见的问题。重复的代码不仅增加了代码的维护成本，还可能导致程序的低效运行。为了解决这个问题，有许多工具和技术被用来检测和消除代码重复。其中一个被广泛使用的工具就是jscpd。
jscpd 简介 jscpd是一款开源的JavaScript的工具库，用于检测代码重复的情况，针对复制粘贴的代码检测很有效果。它可以通过扫描源代码文件，分析其中的代码片段，并比较它们之间的相似性来检测代码的重复度。jscpd支持各种前端框架和语言，包括 HTML、CSS 和 JavaScript 等 150 种的源码文件格式。无论是原生的 JavaScript、CSS、HTML 代码，还是使用typescript、scss、vue、react等代码，都能很好的检测出项目中的重复代码。
开源仓库地址：github.com/kucherenko/jscpd/tree/master
如何使用 使用jscpd进行代码重复度检测非常简单。我们需要安装jscpd。可以通过npm或yarn来安装jscpd。
npm install -g jscpd yarn global add jscpd 安装完成后，我们可以在终端运行 jscpd 命令，指定要检测的代码目录或文件。例如，我们可以输入以下命令来检测当前目录下的所有 JavaScript 文件：
jscpd . 指定目录检测：
jscpd /path/to/code 在命令行执行成功后的效果如下图所示：
简要说明一下对应图中的字段内容：
Clone found (javascript)： 显示找到的重复代码块，这里是 javascript 文件。并且会显示重复代码在文件中具体的行数，便于查找。 Format：文件格式，这里是 javascript，还可以是 scss、markup 等。 Files analyzed：已分析的文件数量，统计被检测中的文件数量。 Total lines：所有文件的总行数。 Total tokens：所有的 token 数量，一行代码一般包含几个到几十个不等的 token 数量。 Clones found：找到的重复块数量。 Duplicated lines：重复的代码行数和占比。 Duplicated tokens：重复的 token 数量和占比。 Detection time：检测耗时。 工程配置 以上示例是比较简单直接检测单个文件或文件夹。当下主流的前端项目大多都是基于脚手架生成或包含相关前端工程化的文件，由于很多文件是辅助工具如依赖包、构建脚本、文档、配置文件等，这类文件都不需要检测，需要排除。这种情况下的工程一般使用配置文件的方式，通过选项配置规范 jscpd 的使用。
jscpd 的配置选项可以通过以下两种方式创建，增加的内容都一致无需区分对应的前端框架。" />
  <meta name="author" content="" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="/articles/main.min.css" />

  

  
  
  
    
  
  <link
    rel="preload"
    as="image"
    href="/articles/theme.png"
  />

  
  
  
  <link rel="preload" as="image" href="/imgs/logo.png" />
  
  

  

  
  <link rel="icon" href="/img/ico.ico" />
  <link rel="apple-touch-icon" href="/articles/apple-touch-icon.png" />
  
  <meta name="generator" content="Hugo 0.108.0">

  
  

  
  
  
  
  
  
  
  
  
  <meta property="og:title" content="前端代码重复度检测" />
<meta property="og:description" content="在前端开发中，代码的重复度是一个常见的问题。重复的代码不仅增加了代码的维护成本，还可能导致程序的低效运行。为了解决这个问题，有许多工具和技术被用来检测和消除代码重复。其中一个被广泛使用的工具就是jscpd。
jscpd 简介 jscpd是一款开源的JavaScript的工具库，用于检测代码重复的情况，针对复制粘贴的代码检测很有效果。它可以通过扫描源代码文件，分析其中的代码片段，并比较它们之间的相似性来检测代码的重复度。jscpd支持各种前端框架和语言，包括 HTML、CSS 和 JavaScript 等 150 种的源码文件格式。无论是原生的 JavaScript、CSS、HTML 代码，还是使用typescript、scss、vue、react等代码，都能很好的检测出项目中的重复代码。
开源仓库地址：github.com/kucherenko/jscpd/tree/master
如何使用 使用jscpd进行代码重复度检测非常简单。我们需要安装jscpd。可以通过npm或yarn来安装jscpd。
npm install -g jscpd yarn global add jscpd 安装完成后，我们可以在终端运行 jscpd 命令，指定要检测的代码目录或文件。例如，我们可以输入以下命令来检测当前目录下的所有 JavaScript 文件：
jscpd . 指定目录检测：
jscpd /path/to/code 在命令行执行成功后的效果如下图所示：
简要说明一下对应图中的字段内容：
Clone found (javascript)： 显示找到的重复代码块，这里是 javascript 文件。并且会显示重复代码在文件中具体的行数，便于查找。 Format：文件格式，这里是 javascript，还可以是 scss、markup 等。 Files analyzed：已分析的文件数量，统计被检测中的文件数量。 Total lines：所有文件的总行数。 Total tokens：所有的 token 数量，一行代码一般包含几个到几十个不等的 token 数量。 Clones found：找到的重复块数量。 Duplicated lines：重复的代码行数和占比。 Duplicated tokens：重复的 token 数量和占比。 Detection time：检测耗时。 工程配置 以上示例是比较简单直接检测单个文件或文件夹。当下主流的前端项目大多都是基于脚手架生成或包含相关前端工程化的文件，由于很多文件是辅助工具如依赖包、构建脚本、文档、配置文件等，这类文件都不需要检测，需要排除。这种情况下的工程一般使用配置文件的方式，通过选项配置规范 jscpd 的使用。
jscpd 的配置选项可以通过以下两种方式创建，增加的内容都一致无需区分对应的前端框架。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/articles/posts/99/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-29T21:27:28+08:00" />
<meta property="article:modified_time" content="2023-12-29T21:27:28+08:00" />

  
  <meta itemprop="name" content="前端代码重复度检测">
<meta itemprop="description" content="在前端开发中，代码的重复度是一个常见的问题。重复的代码不仅增加了代码的维护成本，还可能导致程序的低效运行。为了解决这个问题，有许多工具和技术被用来检测和消除代码重复。其中一个被广泛使用的工具就是jscpd。
jscpd 简介 jscpd是一款开源的JavaScript的工具库，用于检测代码重复的情况，针对复制粘贴的代码检测很有效果。它可以通过扫描源代码文件，分析其中的代码片段，并比较它们之间的相似性来检测代码的重复度。jscpd支持各种前端框架和语言，包括 HTML、CSS 和 JavaScript 等 150 种的源码文件格式。无论是原生的 JavaScript、CSS、HTML 代码，还是使用typescript、scss、vue、react等代码，都能很好的检测出项目中的重复代码。
开源仓库地址：github.com/kucherenko/jscpd/tree/master
如何使用 使用jscpd进行代码重复度检测非常简单。我们需要安装jscpd。可以通过npm或yarn来安装jscpd。
npm install -g jscpd yarn global add jscpd 安装完成后，我们可以在终端运行 jscpd 命令，指定要检测的代码目录或文件。例如，我们可以输入以下命令来检测当前目录下的所有 JavaScript 文件：
jscpd . 指定目录检测：
jscpd /path/to/code 在命令行执行成功后的效果如下图所示：
简要说明一下对应图中的字段内容：
Clone found (javascript)： 显示找到的重复代码块，这里是 javascript 文件。并且会显示重复代码在文件中具体的行数，便于查找。 Format：文件格式，这里是 javascript，还可以是 scss、markup 等。 Files analyzed：已分析的文件数量，统计被检测中的文件数量。 Total lines：所有文件的总行数。 Total tokens：所有的 token 数量，一行代码一般包含几个到几十个不等的 token 数量。 Clones found：找到的重复块数量。 Duplicated lines：重复的代码行数和占比。 Duplicated tokens：重复的 token 数量和占比。 Detection time：检测耗时。 工程配置 以上示例是比较简单直接检测单个文件或文件夹。当下主流的前端项目大多都是基于脚手架生成或包含相关前端工程化的文件，由于很多文件是辅助工具如依赖包、构建脚本、文档、配置文件等，这类文件都不需要检测，需要排除。这种情况下的工程一般使用配置文件的方式，通过选项配置规范 jscpd 的使用。
jscpd 的配置选项可以通过以下两种方式创建，增加的内容都一致无需区分对应的前端框架。"><meta itemprop="datePublished" content="2023-12-29T21:27:28+08:00" />
<meta itemprop="dateModified" content="2023-12-29T21:27:28+08:00" />
<meta itemprop="wordCount" content="304">
<meta itemprop="keywords" content="" />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="前端代码重复度检测"/>
<meta name="twitter:description" content="在前端开发中，代码的重复度是一个常见的问题。重复的代码不仅增加了代码的维护成本，还可能导致程序的低效运行。为了解决这个问题，有许多工具和技术被用来检测和消除代码重复。其中一个被广泛使用的工具就是jscpd。
jscpd 简介 jscpd是一款开源的JavaScript的工具库，用于检测代码重复的情况，针对复制粘贴的代码检测很有效果。它可以通过扫描源代码文件，分析其中的代码片段，并比较它们之间的相似性来检测代码的重复度。jscpd支持各种前端框架和语言，包括 HTML、CSS 和 JavaScript 等 150 种的源码文件格式。无论是原生的 JavaScript、CSS、HTML 代码，还是使用typescript、scss、vue、react等代码，都能很好的检测出项目中的重复代码。
开源仓库地址：github.com/kucherenko/jscpd/tree/master
如何使用 使用jscpd进行代码重复度检测非常简单。我们需要安装jscpd。可以通过npm或yarn来安装jscpd。
npm install -g jscpd yarn global add jscpd 安装完成后，我们可以在终端运行 jscpd 命令，指定要检测的代码目录或文件。例如，我们可以输入以下命令来检测当前目录下的所有 JavaScript 文件：
jscpd . 指定目录检测：
jscpd /path/to/code 在命令行执行成功后的效果如下图所示：
简要说明一下对应图中的字段内容：
Clone found (javascript)： 显示找到的重复代码块，这里是 javascript 文件。并且会显示重复代码在文件中具体的行数，便于查找。 Format：文件格式，这里是 javascript，还可以是 scss、markup 等。 Files analyzed：已分析的文件数量，统计被检测中的文件数量。 Total lines：所有文件的总行数。 Total tokens：所有的 token 数量，一行代码一般包含几个到几十个不等的 token 数量。 Clones found：找到的重复块数量。 Duplicated lines：重复的代码行数和占比。 Duplicated tokens：重复的 token 数量和占比。 Detection time：检测耗时。 工程配置 以上示例是比较简单直接检测单个文件或文件夹。当下主流的前端项目大多都是基于脚手架生成或包含相关前端工程化的文件，由于很多文件是辅助工具如依赖包、构建脚本、文档、配置文件等，这类文件都不需要检测，需要排除。这种情况下的工程一般使用配置文件的方式，通过选项配置规范 jscpd 的使用。
jscpd 的配置选项可以通过以下两种方式创建，增加的内容都一致无需区分对应的前端框架。"/>

  
  
</head>
  <body class="text-black duration-200 ease-out dark:text-white">
    
    

    
    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 dark:prose-invert"
      id="main"
    >
      

<article>
  <header class="mb-10">
    <h1 class="!my-0 pb-2.5">
      前端代码重复度检测
    </h1>

    
    <div class="text-sm opacity-60">
      
      <time>Dec 29, 2023</time>
      
      
      <span class="mx-1">&middot;</span>
      <span>Yin灏</span>
    </div>
    
  </header>

  <section><p>在前端开发中，代码的重复度是一个常见的问题。重复的代码不仅增加了代码的维护成本，还可能导致程序的低效运行。为了解决这个问题，有许多工具和技术被用来检测和消除代码重复。其中一个被广泛使用的工具就是<code>jscpd</code>。</p>
<h2 id="jscpd-简介">jscpd 简介</h2>
<p><code>jscpd</code>是一款开源的<code>JavaScript</code>的工具库，用于检测代码重复的情况，针对复制粘贴的代码检测很有效果。它可以通过扫描源代码文件，分析其中的代码片段，并比较它们之间的相似性来检测代码的重复度。<code>jscpd</code>支持各种前端框架和语言，包括 HTML、CSS 和 JavaScript 等 150 种的源码文件格式。无论是原生的 JavaScript、CSS、HTML 代码，<code>还是使用typescript</code>、<code>scss</code>、<code>vue</code>、<code>react</code>等代码，都能很好的检测出项目中的重复代码。</p>
<p>开源仓库地址：github.com/kucherenko/jscpd/tree/master</p>
<h2 id="如何使用">如何使用</h2>
<p>使用<code>jscpd</code>进行代码重复度检测非常简单。我们需要安装<code>jscpd</code>。可以通过<code>npm</code>或<code>yarn</code>来安装<code>jscpd</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>npm install -g jscpd
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>yarn global add jscpd
</span></span></code></pre></div><p>安装完成后，我们可以在终端运行 jscpd 命令，指定要检测的代码目录或文件。例如，我们可以输入以下命令来检测当前目录下的所有 JavaScript 文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>jscpd .
</span></span></code></pre></div><p>指定目录检测：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>jscpd /path/to/code
</span></span></code></pre></div><p>在命令行执行成功后的效果如下图所示：</p>
<img src="../../img/99/01.awebp" />
<p>简要说明一下对应图中的字段内容：</p>
<ul>
<li>Clone found (javascript)： 显示找到的重复代码块，这里是 javascript 文件。并且会显示重复代码在文件中具体的行数，便于查找。</li>
<li>Format：文件格式，这里是 javascript，还可以是 scss、markup 等。</li>
<li>Files analyzed：已分析的文件数量，统计被检测中的文件数量。</li>
<li>Total lines：所有文件的总行数。</li>
<li>Total tokens：所有的 token 数量，一行代码一般包含几个到几十个不等的 token 数量。</li>
<li>Clones found：找到的重复块数量。</li>
<li>Duplicated lines：重复的代码行数和占比。</li>
<li>Duplicated tokens：重复的 token 数量和占比。</li>
<li>Detection time：检测耗时。</li>
</ul>
<h2 id="工程配置">工程配置</h2>
<p>以上示例是比较简单直接检测单个文件或文件夹。当下主流的前端项目大多都是基于脚手架生成或包含相关前端工程化的文件，由于很多文件是辅助工具如依赖包、构建脚本、文档、配置文件等，这类文件都不需要检测，需要排除。这种情况下的工程一般使用配置文件的方式，通过选项配置规范 <code>jscpd</code> 的使用。</p>
<p><code>jscpd</code> 的配置选项可以通过以下两种方式创建，增加的内容都一致无需区分对应的前端框架。</p>
<p>在项目根目录下创建配置文件 <code>.jscpd.json</code>，然后在该文件中增加具体的配置选项：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;threshold&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;reporters&#34;</span>: [<span style="color:#e6db74">&#34;html&#34;</span>, <span style="color:#e6db74">&#34;console&#34;</span>, <span style="color:#e6db74">&#34;badge&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ignore&#34;</span>: [<span style="color:#e6db74">&#34;**/__snapshots__/**&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;absolute&#34;</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>也可直接在 <code>package.json</code> 文件中添加<code>jscpd</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//   ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">&#34;jscpd&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;threshold&#34;</span>: <span style="color:#ae81ff">0.1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;reporters&#34;</span>: [<span style="color:#e6db74">&#34;html&#34;</span>, <span style="color:#e6db74">&#34;console&#34;</span>, <span style="color:#e6db74">&#34;badge&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ignore&#34;</span>: [<span style="color:#e6db74">&#34;**/__snapshots__/**&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;absolute&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;gitignore&#34;</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//   ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>简要介绍一下上述配置字段含义：</p>
<ul>
<li>threshold：表示重复度的阈值，超过这个值，就会输出错误报警。如阈值设为 10，当重复度为 18.1%时，会提示以下错误 ❌，但代码的检测会正常完成。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ERROR: jscpd found too many duplicates <span style="color:#f92672">(</span>18.1%<span style="color:#f92672">)</span> over threshold <span style="color:#f92672">(</span>10%<span style="color:#f92672">)</span>
</span></span></code></pre></div><ul>
<li>reporters：表示生成结果检测报告的方式，一般有以下几种：
<ul>
<li>console：控制台打印输出</li>
<li>consoleFull：控制台完整打印重复代码块</li>
<li>json：输出 <code>json</code> 格式的报告</li>
<li>xml：输出 <code>xml</code> 格式的报告</li>
<li>csv：输出 <code>csv</code> 格式的报告</li>
<li>markdown：输出带有 <code>markdown</code> 格式的报告</li>
<li>html：生成<code>html</code>报告到<code>html</code>文件夹</li>
<li>verbose：输出大量调试信息到控制台</li>
</ul>
</li>
<li>ignore：检测忽略的文件或文件目录，过滤一些非业务代码，如依赖包、文档或静态文件等</li>
<li>format：需要进行重复度检测的源代码格式，目前支持 150 多种，我们常用的如 javascript、typescript、css 等</li>
<li>absolute：在检测报告中使用绝对路径</li>
</ul>
<p>除此之外还有很多其他的配置，有兴趣的可以看源码文档中有详细的介绍。</p>
<h2 id="检测报告">检测报告</h2>
<p>完成以上<code>jscpd</code>配置后执行以下命令即可输出对应的重复检测报告。运行完毕后，<code>jscpd</code>会生成一个报告，展示每个重复代码片段的信息。报告中包含了重复代码的位置、相似性百分比和代码行数等详细信息。通过这些信息，我们可以有针对性的进行代码重构。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>jscpd ./src -o <span style="color:#e6db74">&#39;report&#39;</span>
</span></span></code></pre></div><p>项目中的业务代码通常会选择放在 <code>./src</code> 目录下，所以可以直接检测该目录下的文件，如果是放在其他目录下根据实际情况调整即可。 通过命令行参数<code>-o 'report'</code>输出检测报告到项目根目录下的 <code>report</code> 文件夹中，这里的<code>report</code>也可以自定义其他目录名称，输出的目录结构如下所示：</p>
<img src="../../img/99/02.awebp" />
<p>生成的报告页面如下所示：</p>
<p>项目概览数据：</p>
<img src="../../img/99/03.awebp" />
<p>具体重复代码的位置和行数：</p>
<img src="../../img/99/04.awebp" />
<p>默认检测重复代码的行数（5 行）和 tokens（50）比较小，所以产生的重复代码块可能比较多，在实际使用中可以针对检测范围进行设置，如下设置参数供参考：</p>
<ul>
<li>最小 tokens：<code>--min-tokens</code>，简写 <code>-k</code></li>
<li>最小行数：<code>--min-lines</code>，简写 <code>-l</code></li>
<li>最大行数：<code>--max-lines</code>，简写 <code>-x</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>jscpd ./src --min-tokens <span style="color:#ae81ff">200</span> --min-lines <span style="color:#ae81ff">20</span> -o <span style="color:#e6db74">&#39;report&#39;</span>
</span></span></code></pre></div><p>为了更便捷的使用此命令，可将这段命令集成到 <code>package.json</code> 中的 <code>scripts</code> 中，后续只需执行 <code>npm run jscpd</code> 即可执行检测。如下所示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;jscpd&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;jscpd ./src --min-tokens 200 --min-lines 20 -o &#39;report&#39;&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h2 id="忽略代码块">忽略代码块</h2>
<p>上面所提到的<code>ignore</code>可以忽略某个文件或文件夹，还有一种忽略方式是忽略文件中的某一块代码。由于一些重复代码在实际情况中是必要的，可以使用代码注释标识的方式忽略检测，在代码的首尾位置添加注释，<code>jscpd:ignore-start</code> 和 <code>jscpd:ignore-end</code> 包裹代码即可。</p>
<p>在 js 代码中使用方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/* jscpd:ignore-start */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">lodash</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;lodash&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">User</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./models&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">UserService</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./services&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* jscpd:ignore-end */</span>
</span></span></code></pre></div><p>在 CSS 和各种预处理中与 js 中的用法一致：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#75715e">/* jscpd:ignore-start */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">style</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">40</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">26</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">400</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#464646</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">line-height</span>: <span style="color:#ae81ff">26</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* jscpd:ignore-end */</span>
</span></span></code></pre></div><p>在 html 代码中使用方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!--
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// jscpd:ignore-start
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">data-react-helmet</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;theme-color&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#cb3837&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">link</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data-react-helmet</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://static.npmjs.com/103af5b8a2b3c971cba419755f3a67bc.css&#34;</span>
</span></span><span style="display:flex;"><span>/&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">link</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data-react-helmet</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;apple-touch-icon&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">sizes</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;120x120&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://static.npmjs.com/58a19602036db1daee0d7863c94673a4.png&#34;</span>
</span></span><span style="display:flex;"><span>/&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">link</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data-react-helmet</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;icon&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;image/png&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://static.npmjs.com/b0f1a8318363185cc2ea6a40ac23eeb2.png&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">sizes</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;32x32&#34;</span>
</span></span><span style="display:flex;"><span>/&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// jscpd:ignore-end
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">--&gt;</span>
</span></span></code></pre></div><h2 id="总结">总结</h2>
<p><code>jscpd</code>是一款强大的前端本地代码重复度检测工具。它可以帮助开发者快速发现代码重复问题，简单的配置即可输出直观的代码重复数据，通过解决重复的代码提高代码的质量和可维护性。</p>
<p>使用<code>jscpd</code>我们可以有效地优化前端开发过程，提高代码的效率和性能。希望本文能够对你了解基于<code>jscpd</code>的前端本地代码重复度检测有所帮助。</p>
</section>

  
  

  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    <a class="flex w-1/2 items-center p-6 pr-3 no-underline" href="/articles/posts/100/"
      ><span class="mr-1.5">←</span><span>Set 和 WeakSet 的用法和区别</span></a
    >
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end p-6 pl-3 no-underline"
      href="/articles/posts/98/"
      ><span>改变 axios 的用法后，我的工作效率提升了3倍(alova)</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  

  
  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
  style="position: relative; z-index: 10;display: none;"
>
  <div class="mr-auto">
    &copy; 2024
    <a class="link" href="/articles/">灏天阁</a>
  </div>
  <a class="link" href="https://yinchuanbo.github.io/" rel="noopener" target="_blank"
    >Powered by YinHao</a
  >️ ▷
</footer>


    <div class="img__mask" style="display: none;">
      <img src="" alt="">
      <span class="close_btn"></span>
    </div>

    <script>
      const imgs = document.images;
      const imgMask = document.querySelector('.img__mask')
      const closeBtn = document.querySelector('.close_btn')
      for (let i = 0; i < imgs.length; i++) {
        const element = imgs[i];
        element.onclick = () => {
          const src = element.src;
          imgMask.style.display = 'flex';
          imgMask.querySelector('img').src = src;
        }
      }
      closeBtn.onclick = () => {
        imgMask.style.display = 'none';
      }
    </script>
  </body>
</html>
