<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Git开发工作流程</title>
    <meta charset="utf-8">
    <meta name="description" content="This is a page">
    <meta name="keywords" content="page, sample">
    <meta name="author" content="None">
    <link rel="icon" sizes="any" mask href="../assets/images/ico6.svg" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <link rel="stylesheet" href="../assets/css/articles.css">
</head>
<body>
  <div class="article__wrapper_left">
    <div class="article__wrapper_left-mulu">目录</div>
    <ul class="articles__list"><li class="">
          <a href="/articles/124.html">
            SCSS
          </a>
        </li><li class="">
          <a href="/articles/125.html">
            操作字符串
          </a>
        </li><li class="">
          <a href="/articles/126.html">
            使用函数
          </a>
        </li><li class="">
          <a href="/articles/127.html">
            统一 Node 版本
          </a>
        </li><li class="">
          <a href="/articles/128.html">
            JS复制粘贴兼容处理
          </a>
        </li><li class="">
          <a href="/articles/129.html">
            超有用的 Web API
          </a>
        </li><li class="">
          <a href="/articles/13.html">
            JS错误监控篇
          </a>
        </li><li class="">
          <a href="/articles/130.html">
            动态执行 js 的方法
          </a>
        </li><li class="">
          <a href="/articles/131.html">
            多个有趣的 JavaScript 与 CSS 库
          </a>
        </li><li class="">
          <a href="/articles/132.html">
            使用对象
          </a>
        </li></ul>
  </div>
  <div class="article__wrapper_sidebar">
    <a href="/" target="_blank"><svg t="1714001835347" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4298" width="48" height="48"><path d="M147.904 304.128l301.866667-179.541333a128 128 0 0 1 131.712 0.512l295.466666 178.88A128 128 0 0 1 938.666667 413.482667V810.666667a128 128 0 0 1-128 128H213.333333a128 128 0 0 1-128-128V414.144a128 128 0 0 1 62.570667-110.016z m43.626667 73.344A42.666667 42.666667 0 0 0 170.666667 414.144V810.666667a42.666667 42.666667 0 0 0 42.666666 42.666666h597.333334a42.666667 42.666667 0 0 0 42.666666-42.666666V413.482667a42.666667 42.666667 0 0 0-20.565333-36.501334l-295.466667-178.88a42.666667 42.666667 0 0 0-43.925333-0.170666l-301.866667 179.541333z" fill="#8a919f" p-id="4299"></path><path d="M405.333333 469.333333h213.333334a42.666667 42.666667 0 1 1 0 85.333334H405.333333a42.666667 42.666667 0 1 1 0-85.333334z m0 85.333334a42.666667 42.666667 0 1 0 0-85.333334h213.333334a42.666667 42.666667 0 1 0 0 85.333334H405.333333z" fill="#8a919f" p-id="4300"></path></svg></a>
    <a href="/tools/" target="_blank"><svg t="1714002003458" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6911" width="48" height="48"><path d="M817.87 556.31h-63.58v-66.24A42.27 42.27 0 0 0 712 447.8h-84.81a42.27 42.27 0 0 0-42.27 42.27v66.24H436.57v-66.24a42.27 42.27 0 0 0-42.27-42.27h-84.83a42.27 42.27 0 0 0-42.27 42.27v66.24h-61.83A22.39 22.39 0 0 0 183 578.7a22.39 22.39 0 0 0 22.39 22.39h61.81v65.55a42.27 42.27 0 0 0 42.27 42.27h84.83a42.27 42.27 0 0 0 42.27-42.27v-65.55h148.36v65.55a42.27 42.27 0 0 0 42.27 42.27H712a42.27 42.27 0 0 0 42.27-42.27v-65.55h63.58a22.39 22.39 0 0 0 22.39-22.39 22.39 22.39 0 0 0-22.37-22.39z m-438.64 95.26h-54.69V505.14h54.69z m317.72 0h-54.69V505.14H697z" p-id="6912" fill="#8a919f"></path><path d="M823 202.58h-90.81v-63.09a71.88 71.88 0 0 0-71.88-71.88H363.19a71.88 71.88 0 0 0-71.88 71.88v63.08h-90.12A137.17 137.17 0 0 0 64 339.75v479a137.17 137.17 0 0 0 137.19 137.14H823a137.17 137.17 0 0 0 137.19-137.17v-479A137.17 137.17 0 0 0 823 202.58z m-474.36-54.1A23.52 23.52 0 0 1 372.17 125h279.16a23.52 23.52 0 0 1 23.52 23.52v54.1h-326.2z m554.23 673.31a76.76 76.76 0 0 1-76.76 76.76h-628a76.76 76.76 0 0 1-76.76-76.76V336.67a76.76 76.76 0 0 1 76.76-76.76h628a76.76 76.76 0 0 1 76.76 76.76z" p-id="6913" fill="#8a919f"></path></svg></a>
  </div>
  <div class="article__wrapper">
    <div class="article__wrapper__main">
      <div class="article__wrapper_header">
        <h1>Git开发工作流程</h1>
        <span class="articles__home_time">NaN/NaN/NaN · YinHao</span>
      </div>
      <h2>一、开发分支模型分类</h2>
<p>目前部门使用的主要是四种：dev(开发)、test(测试)、uat(预发布)、release(生产)</p>
<h2>二、开发主体流程</h2>
<ol>
<li>
<p>需求评审</p>
</li>
<li>
<p>开发排期</p>
</li>
<li>
<p>编码开发</p>
</li>
<li>
<p>冒烟测试（自检查）</p>
</li>
<li>
<p>冒烟通过，提交测试，合并代码到测试分支，部署测试环境</p>
</li>
<li>
<p>测试环境测试，开发修 bug</p>
</li>
<li>
<p>测试完成，提交预发布环境，合并代码到预发布分支，部署到预发布环境</p>
</li>
<li>
<p>预发布环境测试，开发修 bug</p>
</li>
<li>
<p>测试完成，产品验收</p>
</li>
<li>
<p>验收完成，提交生产，合并代码到生产分支，部署生产环境</p>
</li>
<li>
<p>生产运营（客户）验收</p>
</li>
<li>
<p>验收完成，结项</p>
</li>
</ol>
<h2>具体操作</h2>
<h3>1. 拉取代码</h3>
<p>一般会在本地默认创建一个 master 分支</p>
<pre><code class="language-sh">git clone https://code.xxx.com/xxx/xxx.git
</code></pre>
<h3>2. 初次开发需求前，要先拉取生成/预发布分支，然后基于这个分支之上，创建自己的特性分支进行开发</h3>
<pre><code class="language-sh">git fetch origin release:release
git checkout release
git checkout -b feat-0131-jie
</code></pre>
<p>此时，在你本地已经有一个 release 分支对应着远程仓库 release 分支，还有一个内容基于 release 分支的特性分支，之后便可以在这个特性分支上进行需求开发，</p>
<p>如果不是初次开发，本地已经有生产/预发布分支，则需要重新拉取远程的最新代码，然后再创建</p>
<pre><code class="language-sh"># tips: 输入已有的分支名时，可以只输入前几个字符，然后按 tab 自动补充
git checkout release
git pull origin release
git checkout -b feat-0229-jie
</code></pre>
<p><strong>注意1: 分支名称是有规范和含义的，不能乱取</strong></p>
<p>推荐格式：分支责任-需求日期/需求号-开发人姓名，一般按部门规范来，常见的有以下几种：</p>
<ul>
<li>
<p>feat: 新功能</p>
</li>
<li>
<p>fix: 修补 bug</p>
</li>
<li>
<p>doc: 文档</p>
</li>
<li>
<p>refactor: 重构（既不是新增功能，也不是修改 bug 的代码变动）</p>
</li>
<li>
<p>test: 测试</p>
</li>
<li>
<p>chore: 构建过程或辅助工具的变动</p>
</li>
</ul>
<p><strong>2. 为啥拉取的是生产/预发布分支</strong></p>
<p>之所以要拉取 <code>release/uat</code> 分支而不是拉取 <code>dev/test</code>，是因为后者可能包含着一些其他成员还未上线或者可能有 bug 的需求代码，这些代码没有通过验证，如果被你给拉取了，然后又基于此进行新的需求开发，那当你需求开发完成，而其他成员的需求还没上线，你将会把这些未验证的代码一起发送到 <code>uat/release</code> 上，导致一些列问题。</p>
<h3>3. 需求开发完成，提交和合并代码</h3>
<p>首先先在本地把新的改动提交，提交描述的格式可以参考着分支名的格式</p>
<ul>
<li>
<p>如果是新需求的提交，可以写成 <code>&quot;feat: 需求0131-新增账期&quot;</code></p>
</li>
<li>
<p>如果是 bug 修复，可以写成 <code>&quot;fix: 禅道3387-重复请求&quot;</code></p>
</li>
</ul>
<pre><code class="language-sh">git add .
git commit -m &quot;提交描述&quot;
</code></pre>
<p>此时，本地当前分支已经记录了你的提交记录，接下来进行代码合并了。</p>
<p>在代码合并之前，我们先要梳理以下我们应该如何对分支进行管理（非常重要！！！）</p>
<ol>
<li>
<p>首先，我们需要认知到的是，每一个分支应该只对应一个功能，例如，当我们开发需求 01 时，那么就创建一个 <code>feat-01-jie</code> 分支进行开发；开发需求 02 时，就另外创建一个 <code>feat-02-jie</code> 分支进行开发，修改生产环境的某个 bug 时，就创建 <code>fix-jie-3378</code> 进行开发，等等。</p>
</li>
<li>
<p>其次，在合并代码时，我们要将四种分支模型（dev、test、uat、release）作为参照物，而不是把关注点放在自己的分支上，比如我们要在 dev 上调试，那就需要把自己的分支合并到 dev 分支上，如果我们需要提测，则把自己的分支合并到 test 分支上，以此类推。</p>
</li>
</ol>
<p>即，我们要关注到，这四个环境的分支上，会有什么内容，会新增什么内容，<strong>[ 切记不能反过来将除了 release 之外的三个分支合并到自己的代码上！！！ ]</strong> 如果其他成员将自己的代码也提交到 dev 分支上，但是这个代码是没有通过验证的，此时你将 dev 往自己的分支上合，那之后的提测、上预发布、生产则很大概率会出问题。<strong>[ 所以一定要保持自己的分支是干净的 ]</strong> 而 release 分支对应的是生成环境，一般是最稳定的版本，所以合并到自己的分支以获取最新的更改是没有问题的。</p>
 
    </div>
  </div>
  <div class="article__wrapper_footer">
    <a class="article__wrapper_footer-left " href="/articles/122.html"><svg t="1713708729970" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8437" width="48" height="48"><path d="M409.272947 512.57741l403.237243 403.237243a63.349415 63.349415 0 1 1-89.622481 89.622482L274.839224 557.324726a63.349415 63.349415 0 0 1 0-89.494632L722.951633 19.717685a63.349415 63.349415 0 1 1 89.494633 89.622482L409.336872 512.57741z" p-id="8438" fill="#8a8a8a"></path></svg></a>
    <a class="article__wrapper_footer-right " href="/articles/124.html"><svg t="1713708697355" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8093" width="48" height="48"><path d="M855.123 517.004c0 8.245-3.167 15.51-9.503 21.823L402.999 981.47c-6.336 6.336-13.625 9.477-21.869 9.477s-15.51-3.142-21.845-9.477L311.8 933.96c-6.336-6.336-9.502-13.6-9.502-21.845 0-8.222 3.167-15.51 9.502-21.845l373.29-373.29-373.293-373.267c-6.336-6.336-9.502-13.6-9.502-21.845s3.167-15.533 9.503-21.869l47.484-47.484c6.336-6.336 13.6-9.502 21.845-9.502s15.533 3.167 21.869 9.503l442.621 442.622c6.334 6.334 9.503 13.625 9.503 21.869z" fill="#8a8a8a" p-id="8094"></path></svg></a>
  </div>
  <a class="article__wrapper_index" href="/articles/"><svg t="1713708857338" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9656" width="48" height="48"><path d="M549.61981 133.022476l319.683047 203.605334A70.851048 70.851048 0 0 1 902.095238 396.361143v434.883047A70.89981 70.89981 0 0 1 831.146667 902.095238h-282.819048l0.024381-218.112h-71.826286v218.087619L192.853333 902.095238A70.89981 70.89981 0 0 1 121.904762 831.24419V390.241524c0-24.527238 12.678095-47.299048 33.54819-60.220953l318.659048-197.485714a70.972952 70.972952 0 0 1 75.50781 0.487619zM828.952381 828.952381V397.214476L511.488 195.047619 195.047619 391.119238V828.952381h211.309714v-216.551619h212.187429v216.527238L828.952381 828.952381z" p-id="9657" fill="#707070"></path></svg></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
  <script src="../assets/js/articles-detail.js"></script>
  <script>
    hljs.highlightAll();
  </script>
</body>
</html>
    